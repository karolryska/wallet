(window.webpackJsonp=window.webpackJsonp||[]).push([[3,1,2,4],[function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e),n.d(e,"categories",(function(){return s}));var c=document.querySelector(".form__list"),a=document.querySelector(".stats__bar"),s={},u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.color=n,this.setMonthSum=0,s[e]=this,c.innerHTML+='<option value="'.concat(this.name,'">').concat(this.name,"</option>")}var e,n,r;return e=t,(n=[{key:"monthSum",value:function(t){this.name===t.category.name&&(this.setMonthSum+=Number(t.price))}},{key:"renderSetMonthSum",value:function(){var t=document.querySelector(".stats__categories");this.setMonthSum&&(t.innerHTML+='<li class="stats__category stats__category--'.concat(this.color,'"><p class="stats__category-name">').concat(this.name,'</p><p class="stats__category-sum">').concat(this.setMonthSum,"</p></li>"))}},{key:"renderStatsBar",value:function(t){var e=document.createElement("div");e.classList.add("stats__category-bar","stats__category-bar--".concat(this.color)),a.appendChild(e),e.style.width="".concat(this.setMonthSum/t*100,"%")}}])&&i(e.prototype,n),r&&i(e,r),t}();new u("Art. spożywcze","yellow01"),new u("Jedzenie","red01"),new u("Kosmetyki","green01"),new u("Rachunki","red04"),new u("Rozrywka","blue04"),new u("Inne","green04");var l=document.querySelector(".settings__item--categories");l.addEventListener("click",(function(){document.querySelector(".categories").classList.add("categories--active"),function(){var t=document.querySelector(".categories__list");for(var e in t.innerHTML="",s)t.innerHTML+='<li class="categories__item"><p class="categories__category">'.concat(e,"</p></li>")}()}));var d,m=document.querySelector(".categories__list");m.addEventListener("click",(function(t){if(t.target.classList.contains("categories__category")){var e=t.target.innerHTML;!function(t){var e=document.querySelector(".category__title");console.log(e),e.textContent=t}(e),function(t){var e=s[t].color;document.getElementById(e).checked=!0}(e),r(document.querySelectorAll(".colors__input")).forEach((function(t){for(var e in t.disabled=!1,s)s[e].color!==t.id||t.checked||(t.disabled=!0)})),d=e,document.querySelector(".category").classList.toggle("category--active"),(n=document.querySelector(".category__colors")).style.height="".concat(n.offsetWidth,"px")}var n}));document.querySelector(".settings__arrow");var y=document.querySelector(".categories__arrow");document.querySelector(".category__arrow").addEventListener("click",(function(){document.querySelector(".category").classList.toggle("category--active")})),y.addEventListener("click",(function(){document.querySelector(".categories").classList.toggle("categories--active")}));var f=document.querySelector(".category");f.addEventListener("click",(function(t){if(t.target.classList.contains("colors__input")){var e=s[d].color,n=t.target.id;!function(t){s[d].color=t}(n),function(t,e){r(document.querySelectorAll(".item--".concat(t))).forEach((function(n){n.classList.remove("item--".concat(t)),n.classList.add("item--".concat(e))}))}(e,n)}}))},function(t,e,n){"use strict";n.r(e),n.d(e,"storage",(function(){return k})),n.d(e,"Receipt",(function(){return M})),n.d(e,"todayYear",(function(){return O})),n.d(e,"todayMonth",(function(){return x})),n.d(e,"todayDay",(function(){return C})),n.d(e,"setMonth",(function(){return N}));n(5);var r=n(0),o=n(4),i=n(2),c=n(3);function a(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||u(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=document.querySelector(".navigation__button--add"),h=document.querySelector(".button--settings"),v=document.querySelector(".button--statistics"),_=document.querySelector(".form"),g=document.querySelector(".form__buttons-add"),p=document.querySelector(".form__buttons-edit"),S=document.querySelector(".form-button--delete"),b=document.querySelector(".form-button--save"),L=document.querySelector(".content"),q=document.querySelector(".info__button--previous"),w=document.querySelector(".info__button--next"),k={},E=function(){function t(e,n){y(this,t),this.month=e,this.sum=0,this.days={},k[n][e]||(k[n][e]=this)}return m(t,[{key:"renderSum",value:function(){document.querySelector(".info__sum").textContent=this.sum}}]),t}(),A=function(){function t(e,n,r){y(this,t),this.day=e,this.sum=0,this.receipts=[],k[r][n].days[e]||(k[r][n].days[e]=this)}return m(t,[{key:"renderDay",value:function(){var t=document.querySelector(".content__list");document.getElementById(this.day)||t.insertAdjacentHTML("beforeend",'<li id="'.concat(this.day,'" class="day">\n                            <div class="day__container">\n                            <div class="day__header">\n                                <h3 class="day__title">').concat(this.day,'</h3>\n                                <p class="day__sum">').concat(this.sum,'</p>\n                            </div>\n                            <ul class="day__items">\n                            </ul>\n                            </div>\n                        </li>'))}},{key:"reloadDaySum",value:function(){var t=document.getElementById(this.day).querySelector(".day__sum");t.textContent=this.sum,this.sum>o.limits.daily?t.classList.add("day__sum--red"):t.classList.remove("day__sum--red")}},{key:"clearDay",value:function(){this.receipts.length||document.getElementById(this.day).remove()}}]),t}(),M=function(){function t(e,n,o,i){y(this,t),this.date=e,this.category=r.categories[n],this.name=o,this.price=i,this.id=e+"-"+Math.floor(1e4*Math.random());var c=s(e.split("-"),3),a=c[0],u=c[1],l=c[2];this.month=k[a][Number(u)],this.month.sum+=Number(this.price),this.day=this.month.days[l],this.day.receipts.push(this),this.day.sum+=Number(this.price)}return m(t,[{key:"render",value:function(){this.day.renderDay(),this.month.renderSum(),document.getElementById(this.day.day).querySelector(".day__items").insertAdjacentHTML("beforeend",'<li id="'.concat(this.id,'" class="day__item item item--').concat(this.category.color,'">\n        <p class="item__content item__content--category">').concat(this.category.name,'</p>\n        <p class="item__content item__content--price">').concat(this.price,'</p>\n        <p class="item__content item__content--name">').concat(this.name,"</p>\n        </li>")),this.day.reloadDaySum()}},{key:"remove",value:function(){var t=this,e=this.day.receipts,n=e.findIndex((function(e){return e===t}));e.splice(n,1),document.getElementById(this.id).remove(),this.day.sum-=Number(this.price),this.day.reloadDaySum(),this.day.clearDay(),this.month.sum-=Number(this.price),this.month.renderSum()}}]),t}(),j=!0,I=s((new Date).toISOString().slice(0,10).split("-"),3),O=I[0],x=I[1],C=I[2];x=Number(x),k[O]||(k[O]=new function t(){y(this,t),this["01"],this["02"],this["03"],this["04"],this["05"],this["06"],this["07"],this["08"],this["09"],this[10],this[11],this[12]}),console.log(k[O]);for(var T=1;T<=Number(x);T++)k[O][T]||(k[O][T]=new E(T,O)),console.log(k);var N=k[O][Number(x)];Object(i.changeMonth)(N),q.addEventListener("click",(function(){N=Object(i.changeMonth)("prev")})),w.addEventListener("click",(function(){N=Object(i.changeMonth)("next")}));var z,D=function(t,e,n){if(""==t||""==e||""==n)return!0},B=function(){var t=document.querySelector(".modal"),e=document.querySelector(".form__container");t.classList.add("modal--active"),e.classList.add("form__container--blur"),document.querySelector(".modal__button").addEventListener("click",(function(){t.classList.remove("modal--active"),e.classList.remove("form__container--blur")}))},H=function(t,e,n,r){var o=s(t.split("-"),3),i=o[0],c=o[1],a=o[2];new E(Number(c),i),new A(a,Number(c),i);var u=new M(t,e,n,r);Number(c)===N.month&&u.render()},R=function(){a(document.querySelectorAll(".form__input")).forEach((function(t){return t.value=""}))},K=function(t){R(),g.classList.remove("form__buttons-".concat(t,"--active")),_.classList.remove("form--".concat(t))};f.addEventListener("click",(function(){j?(_.classList.add("form--add"),g.classList.add("form__buttons-add--active"),document.querySelector(".form__arrow").addEventListener("click",(function(){return K("add")}))):(j=!0,L.classList.add("content--active"),document.querySelector(".stats").classList.remove("stats--active"),document.querySelector(".settings").classList.remove("settings--active"))})),g.addEventListener("click",(function(){var t=s(a(document.querySelectorAll(".form__input")).map((function(t){return t.value})),4),e=t[0],n=t[1],r=t[2],o=t[3];D(e,n,o)?B():(H(e,n,r,o),K("add"))})),document.addEventListener("click",(function(t){var e,n,r,o,i,c;t.target.classList.contains("item__content")&&(z=function(t){var e=t.target.parentElement.id,n=s(e.split("-"),4),r=n[0],o=n[1],i=n[2];n[3];return k[r][Number(o)].days[i].receipts.find((function(t){return t.id===e}))}(t),e=z,n=s(a(document.querySelectorAll(".form__input")),4),r=n[0],o=n[1],i=n[2],c=n[3],r.value=e.date,o.value=e.category.name,i.value=e.name,c.value=e.price,_.classList.add("form--edit"),p.classList.add("form__buttons-edit--active"),document.querySelector(".form__arrow").addEventListener("click",(function(){return K("edit")})))})),b.addEventListener("click",(function(){var t=s(a(document.querySelectorAll(".form__input")).map((function(t){return t.value})),4),e=t[0],n=t[1],r=t[2],o=t[3];D(e,n,o)?B():(!function(t,e,n,r){z.remove(),H(t,e,n,r)}(e,n,r,o),K("edit"))})),S.addEventListener("click",(function(){z.remove(),R(),_.classList.remove("form--edit"),p.classList.remove("form__buttons-edit--active")})),h.addEventListener("click",(function(t){j=!1,t.preventDefault(),L.classList.remove("content--active"),document.querySelector(".stats").classList.remove("stats--active"),document.querySelector(".settings").classList.add("settings--active")})),H("2021-02-01","Kosmetyki","Drogeria",29),H("2021-02-01","Rachunki","Prąd",123),H("2021-02-10","Rozrywka","Kino",24),H("2021-03-22","Art. spożywcze","Biedronka",134),H("2021-02-12","Rozrywka","Gokarty",50),H("2021-04-02","Rozrywka","Kręgle",120),H("2021-08-02","Rozrywka","Kręgle",120),v.addEventListener("click",(function(){j=!1,L.classList.remove("content--active"),document.querySelector(".settings").classList.remove("settings--active"),document.querySelector(".stats").classList.toggle("stats--active"),Object(c.a)(N)}))},function(t,e,n){"use strict";n.r(e),n.d(e,"changeMonth",(function(){return _}));var r=n(1),o=n(3);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c,a,s=document.querySelector(".info__month"),u=document.querySelector(".info__button--previous"),l=document.querySelector(".info__button--next"),d=[1,2,3,4,5,6,7,8,9,10,11,12],m=["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopda","grudzień"],y=(new Date).toISOString().slice(0,10).split("-"),f=(a=3,function(t){if(Array.isArray(t))return t}(c=y)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}(c,a)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(c,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=f[0],v=f[1],_=(f[2],function(t){var e=d.findIndex((function(t){return t===r.setMonth.month}));"next"===t?e++:"prev"===t&&e--;var n=r.storage[h][d[e]];return function(t,e){var n=d[t];s.textContent=m[t],u.textContent=m[t-1],Number(n)<Number(v)?l.textContent=m[t+1]:l.textContent="",e.renderSum()}(e,n),function(t){var e=document.querySelector(".content__list");if(e.textContent="",t)for(var n in t.days)t.days[n].receipts.forEach((function(t){return t.render()}));else e.textContent="brak danych",document.querySelector(".info__sum").textContent=0}(n),Object(o.a)(n),r.storage[h][d[e]]})},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0),o=function(t){for(var e in r.categories)r.categories[e].setMonthSum=0;for(var n in function(t){var e=[];if(t)for(var n in t.days)t.days[n].receipts.forEach((function(t){return e.push(t)}));return e}(t).forEach((function(t){for(var e in r.categories)r.categories[e].monthSum(t)})),document.querySelector(".stats__categories").innerHTML="",document.querySelector(".stats__bar").innerHTML="",r.categories)r.categories[n].renderSetMonthSum(),r.categories[n].renderStatsBar(t.sum)}},function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.r(e),n.d(e,"limits",(function(){return i}));var i={daily:30,month:1e3};document.querySelector(".settings__item--limits").addEventListener("click",(function(){document.querySelector(".limits").classList.add("limits--active"),document.getElementById("day-limit").value=i.daily,document.getElementById("month-limit").value=i.month}));var c=document.querySelector(".limits__arrow");c.addEventListener("click",(function(){document.querySelector(".limits").classList.remove("limits--active"),i.daily=document.querySelector(".limits__input").value,r(document.querySelectorAll(".day__sum")).forEach((function(t){t.textContent>i.daily?t.classList.add("day__sum--red"):t.classList.remove("day__sum--red")}))}))},function(t,e,n){}],[[1,0]]]);