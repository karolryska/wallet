!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e),n.d(e,"categories",(function(){return s}));var c=document.querySelector(".form__list"),a=document.querySelector(".stats__bar"),s={},u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.color=n,this.setMonthSum=0,s[e]=this,c.innerHTML+='<option value="'.concat(this.name,'">').concat(this.name,"</option>")}var e,n,r;return e=t,(n=[{key:"monthSum",value:function(t){this.name===t.category.name&&(this.setMonthSum+=Number(t.price))}},{key:"renderSetMonthSum",value:function(){var t=document.querySelector(".stats__categories");this.setMonthSum&&(t.innerHTML+='<li class="stats__category stats__category--'.concat(this.color,'"><p class="stats__category-name">').concat(this.name,'</p><p class="stats__category-sum">').concat(this.setMonthSum,"</p></li>"))}},{key:"renderStatsBar",value:function(t){var e=document.createElement("div");e.classList.add("stats__category-bar","stats__category-bar--".concat(this.color)),a.appendChild(e),e.style.width="".concat(this.setMonthSum/t*100,"%")}}])&&i(e.prototype,n),r&&i(e,r),t}();new u("Art. spożywcze","yellow01"),new u("Jedzenie","red01"),new u("Kosmetyki","green01"),new u("Rachunki","red04"),new u("Rozrywka","blue04"),new u("Inne","green04");var l=document.querySelector(".settings__item--categories");l.addEventListener("click",(function(){document.querySelector(".categories").classList.add("categories--active"),function(){var t=document.querySelector(".categories__list");for(var e in t.innerHTML="",s)t.innerHTML+='<li class="categories__item"><p class="categories__category">'.concat(e,"</p></li>")}()}));var d,m=document.querySelector(".categories__list");m.addEventListener("click",(function(t){if(t.target.classList.contains("categories__category")){var e=t.target.innerHTML;!function(t){var e=document.querySelector(".category__title");console.log(e),e.textContent=t}(e),function(t){var e=s[t].color;document.getElementById(e).checked=!0}(e),r(document.querySelectorAll(".colors__input")).forEach((function(t){for(var e in t.disabled=!1,s)s[e].color!==t.id||t.checked||(t.disabled=!0)})),d=e,document.querySelector(".category").classList.toggle("category--active"),(n=document.querySelector(".category__colors")).style.height="".concat(n.offsetWidth,"px")}var n}));document.querySelector(".settings__arrow");var y=document.querySelector(".categories__arrow");document.querySelector(".category__arrow").addEventListener("click",(function(){document.querySelector(".category").classList.toggle("category--active")})),y.addEventListener("click",(function(){document.querySelector(".categories").classList.toggle("categories--active")}));var f=document.querySelector(".category");f.addEventListener("click",(function(t){if(t.target.classList.contains("colors__input")){var e=s[d].color,n=t.target.id;!function(t){s[d].color=t}(n),function(t,e){r(document.querySelectorAll(".item--".concat(t))).forEach((function(n){n.classList.remove("item--".concat(t)),n.classList.add("item--".concat(e))}))}(e,n)}}))},function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.r(e),n.d(e,"limits",(function(){return i}));var i={daily:30,month:1e3};document.querySelector(".settings__item--limits").addEventListener("click",(function(){document.querySelector(".limits").classList.add("limits--active"),document.getElementById("day-limit").value=i.daily,document.getElementById("month-limit").value=i.month}));var c=document.querySelector(".limits__arrow");c.addEventListener("click",(function(){document.querySelector(".limits").classList.remove("limits--active"),i.daily=document.querySelector(".limits__input").value,r(document.querySelectorAll(".day__sum")).forEach((function(t){t.textContent>i.daily?t.classList.add("day__sum--red"):t.classList.remove("day__sum--red")}))}))},function(t,e,n){"use strict";n.r(e),n.d(e,"year2021",(function(){return L})),n.d(e,"todayYear",(function(){return M})),n.d(e,"todayMonth",(function(){return j})),n.d(e,"todayDay",(function(){return I}));n(3);var r=n(0),o=n(1);function i(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var m,y=document.querySelector(".navigation__button--add"),f=document.querySelector(".button--settings"),v=document.querySelector(".button--statistics"),h=document.querySelector(".form"),_=document.querySelector(".form__buttons-add"),p=document.querySelector(".form__buttons-edit"),g=document.querySelector(".form-button--delete"),S=document.querySelector(".form-button--save"),b=document.querySelector(".content"),L=new function t(){d(this,t),this["01"],this["02"],this["03"],this["04"],this["05"],this["06"],this["07"],this["08"],this["09"],this[10],this[11],this[12]},q=function(){function t(e){d(this,t),this.month=e,this.sum=0,this.days={},L[e]||(L[e]=this)}return l(t,[{key:"renderSum",value:function(){document.querySelector(".info__sum").textContent=this.sum}}]),t}(),w=function(){function t(e,n){d(this,t),this.day=e,this.sum=0,this.receipts=[],L[n].days[e]||(L[n].days[e]=this)}return l(t,[{key:"renderDay",value:function(){var t=document.querySelector(".content__list");document.getElementById(this.day)||t.insertAdjacentHTML("beforeend",'<li id="'.concat(this.day,'" class="day">\n                            <div class="day__container">\n                            <div class="day__header">\n                                <h3 class="day__title">').concat(this.day,'</h3>\n                                <p class="day__sum">').concat(this.sum,'</p>\n                            </div>\n                            <ul class="day__items">\n                            </ul>\n                            </div>\n                        </li>'))}},{key:"reloadDaySum",value:function(){var t=document.getElementById(this.day).querySelector(".day__sum");t.textContent=this.sum,this.sum>o.limits.daily?t.classList.add("day__sum--red"):t.classList.remove("day__sum--red")}},{key:"clearDay",value:function(){this.receipts.length||document.getElementById(this.day).remove()}}]),t}(),k=function(){function t(e,n,o,i){d(this,t),this.date=e,this.category=r.categories[n],this.name=o,this.price=i,this.id=e+"-"+Math.floor(1e4*Math.random());var a=c(e.split("-"),3),s=(a[0],a[1]),u=a[2];this.month=L[s],this.month.sum+=Number(this.price),this.day=this.month.days[u],this.day.receipts.push(this),this.day.sum+=Number(this.price)}return l(t,[{key:"render",value:function(){this.day.renderDay(),this.month.renderSum(),document.getElementById(this.day.day).querySelector(".day__items").insertAdjacentHTML("beforeend",'<li id="'.concat(this.id,'" class="day__item item item--').concat(this.category.color,'">\n        <p class="item__content item__content--category">').concat(this.category.name,'</p>\n        <p class="item__content item__content--price">').concat(this.price,'</p>\n        <p class="item__content item__content--name">').concat(this.name,"</p>\n        </li>")),this.day.reloadDaySum()}},{key:"remove",value:function(){var t=this,e=this.day.receipts,n=e.findIndex((function(e){return e===t}));e.splice(n,1),document.getElementById(this.id).remove(),this.day.sum-=Number(this.price),this.day.reloadDaySum(),this.day.clearDay(),this.month.sum-=Number(this.price),this.month.renderSum()}}]),t}(),E=!0,A=c((new Date).toISOString().slice(0,10).split("-"),3),M=A[0],j=A[1],I=A[2],x=j,O=function(t,e,n){if(""==t||""==e||""==n)return!0},C=function(){var t=document.querySelector(".modal"),e=document.querySelector(".form__container");t.classList.add("modal--active"),e.classList.add("form__container--blur"),document.querySelector(".modal__button").addEventListener("click",(function(){t.classList.remove("modal--active"),e.classList.remove("form__container--blur")}))},T=function(t,e,n,r){var o=c(t.split("-"),3),i=(o[0],o[1]),a=o[2];new q(i),new w(a,i);var s=new k(t,e,n,r);i===x&&s.render()},z=function(){i(document.querySelectorAll(".form__input")).forEach((function(t){return t.value=""}))},B=function(t){z(),_.classList.remove("form__buttons-".concat(t,"--active")),h.classList.remove("form--".concat(t))};y.addEventListener("click",(function(){E?(h.classList.add("form--add"),_.classList.add("form__buttons-add--active"),document.querySelector(".form__arrow").addEventListener("click",(function(){return B("add")}))):(E=!0,b.classList.add("content--active"),document.querySelector(".stats").classList.remove("stats--active"),document.querySelector(".settings").classList.remove("settings--active"))})),_.addEventListener("click",(function(){var t=c(i(document.querySelectorAll(".form__input")).map((function(t){return t.value})),4),e=t[0],n=t[1],r=t[2],o=t[3];O(e,n,o)?C():(T(e,n,r,o),B("add"))})),document.addEventListener("click",(function(t){var e,n,r,o,a,s;t.target.classList.contains("item__content")&&(m=function(t){var e=t.target.parentElement.id,n=c(e.split("-"),4),r=(n[0],n[1]),o=n[2];n[3];return L[r].days[o].receipts.find((function(t){return t.id===e}))}(t),e=m,n=c(i(document.querySelectorAll(".form__input")),4),r=n[0],o=n[1],a=n[2],s=n[3],r.value=e.date,o.value=e.category.name,a.value=e.name,s.value=e.price,h.classList.add("form--edit"),p.classList.add("form__buttons-edit--active"),document.querySelector(".form__arrow").addEventListener("click",(function(){return B("edit")})))})),S.addEventListener("click",(function(){var t=c(i(document.querySelectorAll(".form__input")).map((function(t){return t.value})),4),e=t[0],n=t[1],r=t[2],o=t[3];O(e,n,o)?C():(!function(t,e,n,r){m.remove(),T(t,e,n,r)}(e,n,r,o),B("edit"))})),g.addEventListener("click",(function(){m.remove(),z(),h.classList.remove("form--edit"),p.classList.remove("form__buttons-edit--active")})),f.addEventListener("click",(function(t){E=!1,t.preventDefault(),b.classList.remove("content--active"),document.querySelector(".stats").classList.remove("stats--active"),document.querySelector(".settings").classList.add("settings--active")})),T("2021-02-01","Kosmetyki","Drogeria",29),T("2021-02-01","Rachunki","Prąd",123),T("2021-02-10","Rozrywka","Kino",24),T("2021-03-22","Art. spożywcze","Biedronka",134),T("2021-02-12","Rozrywka","Gokarty",50),T("2021-04-02","Rozrywka","Kręgle",120);var D=function(){for(var t in r.categories)r.categories[t].setMonthSum=0;for(var e in function(){var t=L[x],e=[];if(t)for(var n in t.days)t.days[n].receipts.forEach((function(t){return e.push(t)}));return e}().forEach((function(t){for(var e in r.categories)r.categories[e].monthSum(t)})),document.querySelector(".stats__categories").innerHTML="",document.querySelector(".stats__bar").innerHTML="",r.categories)r.categories[e].renderSetMonthSum(),r.categories[e].renderStatsBar(L[x].sum)};v.addEventListener("click",(function(){E=!1,b.classList.remove("content--active"),document.querySelector(".settings").classList.remove("settings--active"),document.querySelector(".stats").classList.toggle("stats--active"),D()}));var H=document.querySelector(".info__month"),N=document.querySelector(".info__button--previous"),P=document.querySelector(".info__button--next"),R=["01","02","03","04","05","06","07","08","09","10","11","12"],K=["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopda","grudzień"],U=Number(x)-1,$=function(){x=R[U],H.textContent=K[U],N.textContent=K[U-1],Number(x)<Number(j)?P.textContent=K[U+1]:P.textContent="",L[x].renderSum()},G=function(){$(),function(t){var e=document.querySelector(".content__list");if(e.textContent="",L[t])for(var n in L[t].days)L[t].days[n].receipts.forEach((function(t){return t.render()}));else e.textContent="brak danych",document.querySelector(".info__sum").textContent=0}(R[U]),D()};$(),N.addEventListener("click",(function(){U--,G()})),P.addEventListener("click",(function(){U++,G()}))},function(t,e,n){}]);